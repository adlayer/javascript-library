/**
* @class
* @param {Object} attributes
*/
var Event=function(a){var b=new Date;this.type="",this.campaign_id="",this.ad_id="",this.space_id="",this.site_id="",this.page_url="",this.date="",this.time="",this.hour="",this.ip="",this.browser="",this.getFullDate=function(){return typeof b=="object"?b=b.toISOString():b};var c=function(b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}(this)};Event.required=["type","campaign_id","space_id","page_url","page_id"],Event.track=function(a){return(new Event(a)).save()},Event.prototype.getDate=function(){return this.getFullDate().split("T")[0]},Event.prototype.getTime=function(){return this.getFullDate().split("T")[1]},Event.prototype.getHour=function(){return this.time?this.time.split(":")[0]:!1},Event.prototype.validate=function(){for(var a=0;a<Event.required.length;a++){var b=Event.required[a];if(!this[b])return!1}return!0},Event.prototype.toQuery=function(){var a=require("../node_modules/querystring").querystring;return a.stringify(this)},Event.prototype.save=function(){throw new Error("You should override this")},exports.Event=Event;var Ad=function(a){this.id="",this.name="",this.campaign_id="",this.type="",this.file="",this.link="",this.status=!0,this.alternative={};var b=function(b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}(this)};exports.Ad=Ad;var Space=function(a){this.id="",this.type="",this.status="",this.ads=[];var b=function(b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}(this)};exports.Space=Space;var Page=function(a){this.id="",this.name="",this.spaces=[],this.status=!0;var b=function(b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}(this)};Page.prototype.getActiveContent=function(){return this.spaces&&this.spaces.length>=1&&(this.spaces=this.spaces.map(function(a){return a.ads&&a.ads.length>=1&&(a.ads=a.ads.filter(function(a){return a.status})),a})),this},exports.Page=Page;var Site=function(a){this.id="",this.name="",this.status=!0,this.domains=[];var b=function(b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}(this)};Site.prototype.hasDomain=function(a){function d(a,b){return b.indexOf(a)!==-1}var b=this,c=!1;return d(a,this.domains)?c=!0:this.domains.forEach(function(b){var e=d("*",b);e&&(b=b.replace("*",""),d(b,a)&&(c=!0))}),c},exports.Site=Site