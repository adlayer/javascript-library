/**
* @class Connection
*//**
	## Using in node.js
	
	// hack request
	var request = require('request');
	request.jsonp = request.get;
	
	// Hacking lib.connection
	var connection = require('connection');
	connection.prototype.request = request;
	
	// Your code goes here	

**/
var Connection=function(a){var b=require("../request/http").Http;b.apply(this,arguments),this._index=0,this.name="",this.requests={};var c=function(b){typeof a=="string"?b.url=a:b=b.extend(a)}(this)};Connection.prototype.id=function(){return"n"+this._index},Connection.prototype.newId=function(){return this._index++,this.id()},Connection.prototype.next=function(a){var b=this.newId();this.requests[b]=a},Connection.prototype.getCallbackPath=function(){return[this.name,"requests",this.id(),"callback"].join(".")},Connection.prototype.request=require("../request/request").request,Connection.prototype.get=function(a,b,c){return typeof b=="function"&&(c=b),b.callback=this.getCallbackPath(),this.path=a,this.qs=b,this.requests[this.id()]={},this.request().get(this,c),this.newId(),this},exports.Connection=Connection